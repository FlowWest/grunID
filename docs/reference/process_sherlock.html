<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="process_sherlock() extracts and transforms result data from the Synergy H1 reader"><title>Process Sherlock Results — process_sherlock • grunID</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Process Sherlock Results — process_sherlock"><meta property="og:description" content="process_sherlock() extracts and transforms result data from the Synergy H1 reader"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-default navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">grunID</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/azure-authentication.html">Authentication with Azure AD</a>
    <a class="dropdown-item" href="../articles/process_and_add_assay_results.html">Process and add assay results to database</a>
    <a class="dropdown-item" href="../articles/query_sample_status.html">Querying Sample Status</a>
    <a class="dropdown-item" href="../articles/in_season_seeds.html">Adding In-Season Seeds</a>
    <a class="dropdown-item" href="../articles/grunid-app.html">grunID Shiny App</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../articles/grunID-data-templates.html">Templates</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="nav-link" href="https://github.com/FlowWest/grunID" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Process Sherlock Results</h1>
      
      <div class="d-none name"><code>process_sherlock.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p><code>process_sherlock()</code> extracts and transforms result data from the Synergy H1 reader</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">process_sherlock</span><span class="op">(</span></span>
<span>  <span class="va">filepath</span>,</span>
<span>  sample_type <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"mucus"</span>, <span class="st">"fin clip"</span><span class="op">)</span>,</span>
<span>  layout_type <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"split_plate_early_late"</span>, <span class="st">"split_plate_late_early"</span>,</span>
<span>    <span class="st">"split_plate_spring_winter"</span>, <span class="st">"split_plate_winter_spring"</span>, <span class="st">"triplicate"</span>,</span>
<span>    <span class="st">"single_assay_ots28_early"</span>, <span class="st">"single_assay_ots28_late"</span>, <span class="st">"single_assay_ots16_spring"</span>,</span>
<span>    <span class="st">"single_assay_ots16_winter"</span>, <span class="st">"custom"</span><span class="op">)</span>,</span>
<span>  plate_run_id <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  plate_size <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">96</span>, <span class="fl">384</span><span class="op">)</span>,</span>
<span>  custom_layout_filepath <span class="op">=</span> <span class="cn">NULL</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>filepath</dt>
<dd><p>Synergy H1 reader output excel file with corresponding plate run layout
in a sheet titled "plate_map"</p></dd>


<dt>sample_type</dt>
<dd><p>either <code>mucus</code> or <code>fin_clip</code></p></dd>


<dt>layout_type</dt>
<dd><p>either <code>split_plate_early_late</code>, <code>split_plate_late_early</code>, <code>split_plate_spring_winter</code>,
<code>split_plate_winter_spring</code>, <code>triplicate</code>,
<code>single_assay_ots28_early</code>, <code>single_assay_ots28_late</code>, <code>single_assay_ots16_spring</code>, or
<code>single_assay_ots16_winter</code></p></dd>


<dt>plate_run_id</dt>
<dd><p>plate run identifier generated by running <code><a href="add_plate_run.html">add_plate_run()</a></code>.</p></dd>


<dt>plate_size</dt>
<dd><p>either 96 or 384</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>A table to be passed to <code><a href="add_raw_assay_results.html">add_raw_assay_results()</a></code>:</p><div class="section">
<h3 id="-raw-assay-results">1) raw_assay_results<a class="anchor" aria-label="anchor" href="#-raw-assay-results"></a></h3>

<ul><li><p>sample_id</p></li>
<li><p>raw_fluorescence</p></li>
<li><p>background_value</p></li>
<li><p>time</p></li>
<li><p>plate_run_id</p></li>
<li><p>well_location</p></li>
</ul></div>


    </div>
    <div class="section level2">
    <h2 id="sample-details">Sample Details<a class="anchor" aria-label="anchor" href="#sample-details"></a></h2>
    <p>The Synergy H1 result output from plate runs is organized using generic identifiers
that need to be mapped to the real sample identifiers in order to properly associate
the results with the correct sample id in the database.The output file’s
“Layout” section contains the well locations for samples encoded as non-unique generic
sample ids (e.g., SPL1, BLK). The number of rows and columns in the Layout vary
based on the plate size. A plate size 96 has rows A:H and columns 1:12 and
a plate size 384 has rows A:P and columns 1:24. The results for each sample are
found within columns that are the letter-number combination of the well location
captured in the Layout section (e.g., if SPL1 is in row A and column 3,
then the measurements at each time step are recorded in a column labeled A3).
To map the sample ids to the generic identifiers produced by the Synergy H1 software
(e.g., SPL1 and A3), the user must provide the true sample ids and other metadata
at each well location in the as a dataframe containing these columns:</p><ul><li><p><strong>location:</strong> <em>(character)</em> letter-number combination based on Synergy H1 Layout grid (e.g., A3)</p></li>
<li><p><strong>sample_id:</strong> <em>(character)</em> unique ID of mucus swab or fin clip made up of site code, year,
sample event, sampling bin, and count within sampling bin (e.g., BTC22_3_A_1)</p></li>
<li><p><strong>sample_type:</strong> <em>(numeric)</em> provide 1 for mucus and 2 for fin clip</p></li>
<li><p><strong>assay_id:</strong> <em>(numeric)</em> the ID for assay types (e.g., 1 = OTS28 Early 1),
use <code>get_assay()</code> to view all available options.</p></li>
<li><p><strong>plate_run_id:</strong> <em>(numeric)</em> the ID returned from running <code><a href="add_plate_run.html">add_plate_run()</a></code>,
the function that creates a new plate run record in the database to associate
important metadata with the assay results</p></li>
</ul></div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="va">sample_details</span> <span class="op">=</span> <span class="fu">readr</span><span class="fu">::</span><span class="fu"><a href="https://readr.tidyverse.org/reference/read_delim.html" class="external-link">read_csv</a></span><span class="op">(</span><span class="st">"data-raw/sample_layout_template_384.csv"</span><span class="op">)</span></span></span>
<span class="r-err co"><span class="r-pr">#&gt;</span> <span class="error">Error:</span> 'data-raw/sample_layout_template_384.csv' does not exist in current working directory ('C:/Users/emanuel/projects/jpe/grunID/docs/reference').</span>
<span class="r-in"><span><span class="fu">process_sherlock</span><span class="op">(</span>filepath <span class="op">=</span> <span class="st">"data-raw/081022_Chnk_JPE_Early_Plates7-10_results.xlsx"</span>,</span></span>
<span class="r-in"><span>                 sample_details <span class="op">=</span> <span class="va">sample_details</span>,</span></span>
<span class="r-in"><span>                 plate_size <span class="op">=</span> <span class="fl">384</span><span class="op">)</span></span></span>
<span class="r-err co"><span class="r-pr">#&gt;</span> <span class="error">Error in process_sherlock(filepath = "data-raw/081022_Chnk_JPE_Early_Plates7-10_results.xlsx",     sample_details = sample_details, plate_size = 384):</span> unused argument (sample_details = sample_details)</span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Emanuel Rodriguez, Liz Stebbins.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer></div>

  

  

  </body></html>

